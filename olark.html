<html>
	<head>
		<Title>Olark test page</Title>
	</head>
	<body>
		<p>Dummy site to test Olark, script added, script before</p>

<script type="text/javascript">
  // Wait for Olark to be ready
  olark('api.chat.onReady', function() {
    // Function to handle pre-chat form submission
    function handlePreChatFormSubmit() {
      // Get the selected program from the pre-chat form
      var selectedProgram = document.querySelector('input[name="custom_radio"]:checked').value;
      
      // Check the selected program and assign to the appropriate group
      if (selectedProgram === '9 Levers') {
        olark('api.chat.updateVisitorNickname', {
          snippet: function (nickname) {
            return nickname + ' (9 Levers)';
          }
        });
        olark('api.groups.assignTo', { group: '9 Levers Agent Group' });
      } else if (selectedProgram === 'ViralPages.ai') {
        olark('api.chat.updateVisitorNickname', {
          snippet: function (nickname) {
            return nickname + ' (ViralPages.ai)';
          }
        });
        olark('api.groups.assignTo', { group: 'ViralPages Agent Group' });
      } else if (selectedProgram === '300 Mastermind') {
        olark('api.chat.updateVisitorNickname', {
          snippet: function (nickname) {
            return nickname + ' (300 Mastermind)';
          }
        });
        olark('api.groups.assignTo', { group: '300 Mastermind Agent Group' });
      } else {
        olark('api.chat.updateVisitorNickname', {
          snippet: function (nickname) {
            return nickname + ' (Other Programs)';
          }
        });
        olark('api.groups.assignTo', { group: 'Other Programs Agent Group' });
      }
    }

    // Add event listener to the pre-chat form submit button
    document.querySelector('.olark-form-submit-button').addEventListener('click', handlePreChatFormSubmit);
  });
</script>
		
		<!-- begin olark code -->
<script type="text/javascript" async> ;(function(o,l,a,r,k,y){if(o.olark)return; r="script";y=l.createElement(r);r=l.getElementsByTagName(r)[0]; y.async=1;y.src="//"+a;r.parentNode.insertBefore(y,r); y=o.olark=function(){k.s.push(arguments);k.t.push(+new Date)}; y.extend=function(i,j){y("extend",i,j)}; y.identify=function(i){y("identify",k.i=i)}; y.configure=function(i,j){y("configure",i,j);k.c[i]=j}; k=y._={s:[],t:[+new Date],c:{},l:a}; })(window,document,"static.olark.com/jsclient/loader.js");
/* custom configuration goes here (www.olark.com/documentation) */
olark.identify('3192-298-10-9167');</script>
<!-- end olark code -->
		

	</body>
</html>

